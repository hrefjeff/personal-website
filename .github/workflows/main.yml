name: Upload to S3

on:
    push:
        branches: [ main ]
jobs:
    upload:
        runs-on: ubuntu-latest
        environment: default
        steps:
        - uses: actions/checkout@master
        - uses: shallwefootball/s3-upload-action@master
          with:
            aws_key_id: ${{ secrets.AWS_KEY_ID }}
            aws_secret_access_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            aws_bucket: ${{ secrets.AWS_BUCKET }}
            source_dir: "./index.html"
            destination_dir: "index.html"
        - uses: shallwefootball/s3-upload-action@master
          with:
            aws_key_id: ${{ secrets.AWS_KEY_ID }}
            aws_secret_access_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            aws_bucket: ${{ secrets.AWS_BUCKET }}
            source_dir: "./assets/**"
            destination_dir: "assets"
        - uses: shallwefootball/s3-upload-action@master
          with:
            aws_key_id: ${{ secrets.AWS_KEY_ID }}
            aws_secret_access_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            aws_bucket: ${{ secrets.AWS_BUCKET }}
            source_dir: "./css/**"
            destination_dir: "css"
        - uses: shallwefootball/s3-upload-action@master
          with:
            aws_key_id: ${{ secrets.AWS_KEY_ID }}
            aws_secret_access_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            aws_bucket: ${{ secrets.AWS_BUCKET }}
            source_dir: "./js/**"
            destination_dir: "js"
